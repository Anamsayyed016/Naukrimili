(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5621],{58681:(e,t,l)=>{Promise.resolve().then(l.bind(l,76237))},76237:(e,t,l)=>{"use strict";l.d(t,{default:()=>r});var a=l(95155),s=l(12115);function r(){let{resumes:e,loading:t,error:l,createResume:r,updateResume:i,deleteResume:n}=function(){let[e,t]=(0,s.useState)([]),[l,a]=(0,s.useState)(!1),[r,i]=(0,s.useState)(null),n=async()=>{a(!0),i(null);try{let e=await fetch("/api/resumes"),l=await e.json();t(l)}catch(e){i("Failed to fetch resumes")}finally{a(!1)}},d=async e=>{a(!0),i(null);try{if(!(await fetch("/api/resumes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to create");await n()}catch(e){i("Failed to create resume")}finally{a(!1)}},u=async(e,t)=>{a(!0),i(null);try{if(!(await fetch("/api/resumes/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw Error("Failed to update");await n()}catch(e){i("Failed to update resume")}finally{a(!1)}},c=async e=>{a(!0),i(null);try{if(!(await fetch("/api/resumes/".concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete");await n()}catch(e){i("Failed to delete resume")}finally{a(!1)}};return(0,s.useEffect)(()=>{n()},[]),{resumes:e,loading:l,error:r,fetchResumes:n,createResume:d,updateResume:u,deleteResume:c}}(),[d,u]=(0,s.useState)({userId:"",fileUrl:""}),[c,o]=(0,s.useState)(null);return(0,a.jsxs)("div",{className:"p-6 bg-white rounded shadow max-w-xl mx-auto mt-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Manage Resumes"}),l&&(0,a.jsx)("div",{className:"text-red-500 mb-2",children:l}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),null!==c?(i(c,d),o(null)):r(d),u({userId:"",fileUrl:""})},className:"flex flex-col gap-2 mb-4",children:[(0,a.jsx)("input",{className:"border px-2 py-1 rounded",placeholder:"User ID",value:d.userId,onChange:e=>u(t=>({...t,userId:e.target.value}))}),(0,a.jsx)("input",{className:"border px-2 py-1 rounded",placeholder:"File URL",value:d.fileUrl,onChange:e=>u(t=>({...t,fileUrl:e.target.value}))}),(0,a.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-1 rounded",children:null!==c?"Update":"Add"}),null!==c&&(0,a.jsx)("button",{type:"button",className:"ml-2 text-gray-500",onClick:()=>{o(null),u({userId:"",fileUrl:""})},children:"Cancel"})]}),(0,a.jsx)("ul",{children:e.map(e=>(0,a.jsxs)("li",{className:"flex items-center justify-between border-b py-2",children:[(0,a.jsxs)("span",{children:["User: ",e.userId," | File: ",e.fileUrl]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{className:"text-blue-600",onClick:()=>{o(e.id),u({userId:e.userId,fileUrl:e.fileUrl})},children:"Edit"}),(0,a.jsx)("button",{className:"text-red-600",onClick:()=>n(e.id),children:"Delete"})]})]},e.id))}),t&&(0,a.jsx)("div",{className:"mt-2 text-gray-500",children:"Loading..."})]})}}},e=>{e.O(0,[8441,5964,7358],()=>e(e.s=58681)),_N_E=e.O()}]);