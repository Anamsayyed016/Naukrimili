(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5940],{59262:(e,t,a)=>{"use strict";a.d(t,{default:()=>n});var l=a(95155),s=a(12115);function n(){let{applications:e,loading:t,error:a,createApplication:n,updateApplication:i,deleteApplication:o}=function(){let[e,t]=(0,s.useState)([]),[a,l]=(0,s.useState)(!1),[n,i]=(0,s.useState)(null),o=async()=>{l(!0),i(null);try{let e=await fetch("/api/applications"),a=await e.json();t(a)}catch(e){i("Failed to fetch applications")}finally{l(!1)}},d=async e=>{l(!0),i(null);try{if(!(await fetch("/api/applications",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)throw Error("Failed to create");await o()}catch(e){i("Failed to create application")}finally{l(!1)}},r=async(e,t)=>{l(!0),i(null);try{if(!(await fetch("/api/applications/".concat(e),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})).ok)throw Error("Failed to update");await o()}catch(e){i("Failed to update application")}finally{l(!1)}},c=async e=>{l(!0),i(null);try{if(!(await fetch("/api/applications/".concat(e),{method:"DELETE"})).ok)throw Error("Failed to delete");await o()}catch(e){i("Failed to delete application")}finally{l(!1)}};return(0,s.useEffect)(()=>{o()},[]),{applications:e,loading:a,error:n,fetchApplications:o,createApplication:d,updateApplication:r,deleteApplication:c}}(),[d,r]=(0,s.useState)({jobId:"",userId:"",status:""}),[c,u]=(0,s.useState)(null);return(0,l.jsxs)("div",{className:"p-6 bg-white rounded shadow max-w-xl mx-auto mt-8",children:[(0,l.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Manage Applications"}),a&&(0,l.jsx)("div",{className:"text-red-500 mb-2",children:a}),(0,l.jsxs)("form",{onSubmit:e=>{e.preventDefault(),null!==c?(i(c,d),u(null)):n(d),r({jobId:"",userId:"",status:""})},className:"flex flex-col gap-2 mb-4",children:[(0,l.jsx)("input",{className:"border px-2 py-1 rounded",placeholder:"Job ID",value:d.jobId,onChange:e=>r(t=>({...t,jobId:e.target.value}))}),(0,l.jsx)("input",{className:"border px-2 py-1 rounded",placeholder:"User ID",value:d.userId,onChange:e=>r(t=>({...t,userId:e.target.value}))}),(0,l.jsx)("input",{className:"border px-2 py-1 rounded",placeholder:"Status",value:d.status,onChange:e=>r(t=>({...t,status:e.target.value}))}),(0,l.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-1 rounded",children:null!==c?"Update":"Add"}),null!==c&&(0,l.jsx)("button",{type:"button",className:"ml-2 text-gray-500",onClick:()=>{u(null),r({jobId:"",userId:"",status:""})},children:"Cancel"})]}),(0,l.jsx)("ul",{children:e.map(e=>(0,l.jsxs)("li",{className:"flex items-center justify-between border-b py-2",children:[(0,l.jsxs)("span",{children:["Job: ",e.jobId," | User: ",e.userId," | Status: ",e.status]}),(0,l.jsxs)("div",{className:"flex gap-2",children:[(0,l.jsx)("button",{className:"text-blue-600",onClick:()=>{u(e.id),r({jobId:e.jobId,userId:e.userId,status:e.status})},children:"Edit"}),(0,l.jsx)("button",{className:"text-red-600",onClick:()=>o(e.id),children:"Delete"})]})]},e.id))}),t&&(0,l.jsx)("div",{className:"mt-2 text-gray-500",children:"Loading..."})]})}},62826:(e,t,a)=>{Promise.resolve().then(a.bind(a,59262))}},e=>{e.O(0,[8441,5964,7358],()=>e(e.s=62826)),_N_E=e.O()}]);